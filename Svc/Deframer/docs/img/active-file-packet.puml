@startuml

participant activeComm order 1
participant deframer order 2
participant buffMgr order 3
participant fileUplink order 4

activate activeComm

activeComm -> buffMgr: Allocate buffer F
activeComm -> activeComm: Fill F with framed data
activeComm -> deframer: Send F [framedIn]

deframer -> buffMgr: Allocate buffer B [bufferAllocate]
deframer -> deframer: Deframe F into B
deframer ->> fileUplink: Send B [bufferOut]
deframer -> buffMgr: Deallocate F [framedDeallocate]

deactivate activeComm

activate fileUplink
fileUplink -> buffMgr: Deallocate B
deactivate fileUplink

@enduml
