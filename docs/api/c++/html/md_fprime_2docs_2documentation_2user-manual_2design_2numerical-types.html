<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: F´ Numerical Types</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">F´ Flight Software - C/C++ Documentation<span id="projectnumber">&#160;devel</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_fprime_2docs_2documentation_2user-manual_2design_2numerical-types.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">F´ Numerical Types</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md194"></a></p>
<p>On physical hardware, numerical types have a size in bits. The sizes of these integers are either explicitly set by the programmer or implicitly set by the compiler. i.e. <code>uint32_t</code> is explicitly 32-bits whereas <code>int</code> is implicitly set by the compiler. Flight software practice encourages use of explicitly sized types because there is less risk of an unintentional overflow when using explicitly sized types. However, in-practice it is nice to also use logical types that represent concepts in the system (e.g. size) and are configured to use a specific size as determined by the platform.</p>
<p>This document describes: fixed-width types and logical types.</p>
<h1><a class="anchor" id="autotoc_md195"></a>
Fixed Width Types</h1>
<p>In F´, fixed width types map to the standard definitions either in the C standard or in the <code>stdint.h</code> header as seen below. Since platforms are not guaranteed to support all types (e.g. 64bits integers) these types can be turned off by setting a configuration field to <code>0</code> in the platform-supplied <code>PlatformTypes.h</code> header. These types are on by default and users must turn off types their compiler or platform does not support.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">F´ Type   </th><th class="markdownTableHeadNone">Equivalent   </th><th class="markdownTableHeadNone"><code>PlatformTypes.h</code> Configuration Field    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">I8   </td><td class="markdownTableBodyNone">int8_t   </td><td class="markdownTableBodyNone">n/a    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">I16   </td><td class="markdownTableBodyNone">int16_t   </td><td class="markdownTableBodyNone">FW_HAS_16_BIT    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">I32   </td><td class="markdownTableBodyNone">int32_t   </td><td class="markdownTableBodyNone">FW_HAS_32_BIT    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">I64   </td><td class="markdownTableBodyNone">int64_t   </td><td class="markdownTableBodyNone">FW_HAS_64_BIT    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">U8   </td><td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">n/a    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">U16   </td><td class="markdownTableBodyNone">uint16_t   </td><td class="markdownTableBodyNone">FW_HAS_16_BIT    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">U32   </td><td class="markdownTableBodyNone">uint32_t   </td><td class="markdownTableBodyNone">FW_HAS_32_BIT    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">U64   </td><td class="markdownTableBodyNone">uint64_t   </td><td class="markdownTableBodyNone">FW_HAS_64_BIT    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">F32   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">n/a    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">F64   </td><td class="markdownTableBodyNone">double   </td><td class="markdownTableBodyNone">FW_HAS_F64   </td></tr>
</table>
<p>Platform developers should include <code>stdint.h</code> or equivalent in their <code>PlatformTypes.h</code> to ensure F´ can construct a mapping from the C equivalents to the F´ type. If for some reason that header does not exist or does not define all types, then developers must define the missing C equivalent types directly in that header.</p>
<p>To print these types, users may use the standard C++ PRI macros as shown described: <a href="https://cplusplus.com/reference/cinttypes/">https://cplusplus.com/reference/cinttypes/</a>.</p>
<p>The limits of these types can be obtained by using <code>std::numeric_limits&lt;T&gt;::<a class="el" href="_checksum_8cpp.html#a32f984d99c3f2df28c300b5111d2735c">min()</a></code> and <code>std::numeric_limits&lt;T&gt;::<a class="el" href="_checksum_8cpp.html#a32f984d99c3f2df28c300b5111d2735c">min()</a></code> for the defined type T.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><a class="code hl_typedef" href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> value = 10;</div>
<div class="line"><a class="code hl_typedef" href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> my_max = std::numeric_limits&lt;U32&gt;::max();</div>
<div class="line">printf(<span class="stringliteral">&quot;My value: %&quot;</span> PRIu32 <span class="stringliteral">&quot; could store a max of: %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, value, my_max);</div>
<div class="ttc" id="abasic__types_8h_html_a696390429f2f3b644bde8d0322a24124"><div class="ttname"><a href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a></div><div class="ttdeci">uint32_t U32</div><div class="ttdef"><b>Definition</b> <a href="basic__types_8h_source.html#l00028">basic_types.h:28</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md196"></a>
F´ Logical Integer Type Design</h1>
<p>Typically, in flight software we try to use fixed-sized types wherever possible as this produces consistent results across platforms. However, when building components for use on multiple different architectures it is nice to be able to use logical integer types whose exact widths are determined by the platform and project instead of needing to pick a one-size-fits-all fixed with type. For example, representing a size as an unsigned 64-bit integer is logical on some systems that have 64-bit data widths, but will not compile on systems that do not define 64-bit integers at all (8-bit systems often lack this data size).</p>
<p>Thus, for these logical types the actual data size needs to be configured. This configuration needs to be available from two sources: a given project, and a given platform. Platforms need to set the idea size for these types, and projects need to be able to control these sizes when operating across multiple platforms.</p>
<p>It is important to check against type limits when using these types to ensure compatibility across systems.</p>
<h2><a class="anchor" id="autotoc_md197"></a>
Platform Configured Types</h2>
<p>Platform developers must define the following logical types in the <code>PlatformTypes.h</code> header provided alongside their CMake platform and toolchain files. Each type also defines a format specifier for use with the <code>printf</code> family of functions.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Platform Logical Type   </th><th class="markdownTableHeadNone">Format Specifier   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PlatformIndexType   </td><td class="markdownTableBodyNone">PRI_PlatformIndexType   </td><td class="markdownTableBodyNone">Ports indices    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PlatformSizeType   </td><td class="markdownTableBodyNone">PRI_PlatformSizeType   </td><td class="markdownTableBodyNone">Sizes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PlatformPointerCastType   </td><td class="markdownTableBodyNone">PRI_PlatformPointerCastType   </td><td class="markdownTableBodyNone">Pointers stored as integers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PlatformAssertArgType   </td><td class="markdownTableBodyNone">PRI_PlatformAssertArgType   </td><td class="markdownTableBodyNone">Argument to FW_ASSERT    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PlatformIntType   </td><td class="markdownTableBodyNone">PRI_PlatformIntType   </td><td class="markdownTableBodyNone">Deprecated (see note)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PlatformUIntType   </td><td class="markdownTableBodyNone">PRI_PlatformUIntType   </td><td class="markdownTableBodyNone">Deprecated (see note)   </td></tr>
</table>
<p>A complete definition of each type for a given platform must be supplied within <code>PlatformTypes.h</code> as shown in the example below. Notice the type is defined along with a format specifier.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">typedef</span> int32_t <a class="code hl_typedef" href="_default_types_8hpp.html#a2f8688930d2dbc9e45ddaca180a4ebe3">PlatformIndexType</a>;</div>
<div class="line"><span class="preprocessor">#define PRI_PlatformIndexType PRId32</span></div>
<div class="line">...</div>
<div class="ttc" id="a_default_types_8hpp_html_a2f8688930d2dbc9e45ddaca180a4ebe3"><div class="ttname"><a href="_default_types_8hpp.html#a2f8688930d2dbc9e45ddaca180a4ebe3">PlatformIndexType</a></div><div class="ttdeci">PlatformIntType PlatformIndexType</div><div class="ttdef"><b>Definition</b> <a href="_default_types_8hpp_source.html#l00035">DefaultTypes.hpp:35</a></div></div>
</div><!-- fragment --><p>Limits for these types are obtained using the <code>std::numeric_limits&lt;T&gt;::<a class="el" href="_checksum_8cpp.html#a32f984d99c3f2df28c300b5111d2735c">min()</a></code> and <code>std::numeric_limits&lt;T&gt;::max()</code> constants defined in the <code>limits</code> header.</p>
<p>In order to print these types, developers can use the following example as a basis for using the PRI_* macros. This example also shows the use of the type's minimum limit.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><a class="code hl_typedef" href="_default_types_8hpp.html#a2f8688930d2dbc9e45ddaca180a4ebe3">PlatformIndexType</a> index = 3;</div>
<div class="line"><span class="comment">// Print the above index type, and the minimum value supported by the same type</span></div>
<div class="line">printf(<span class="stringliteral">&quot;Index %&quot;</span> <a class="code hl_define" href="_default_types_8hpp.html#ab945a3b39d8dd32b5aec8102a45ff358">PRI_PlatformIndexType</a> <span class="stringliteral">&quot;. Min %&quot;</span> <a class="code hl_define" href="_default_types_8hpp.html#ab945a3b39d8dd32b5aec8102a45ff358">PRI_PlatformIndexType</a>, index, std::numeric_limits&lt;PlatformIndexType&gt;::min());</div>
<div class="ttc" id="a_default_types_8hpp_html_ab945a3b39d8dd32b5aec8102a45ff358"><div class="ttname"><a href="_default_types_8hpp.html#ab945a3b39d8dd32b5aec8102a45ff358">PRI_PlatformIndexType</a></div><div class="ttdeci">#define PRI_PlatformIndexType</div><div class="ttdef"><b>Definition</b> <a href="_default_types_8hpp_source.html#l00039">DefaultTypes.hpp:39</a></div></div>
</div><!-- fragment --><p>!!! note in order for F´ to compile without warnings it is necessary that each of the platform types are elements in the set of integers supplied by the C standard integers header (<code>stdint.h</code>). i.e. each type must be an <code>int8_t</code>, <code>int16_t</code>, <code>int32_t</code>, <code>int64_t</code> or unsigned variants. On some compilers <code>int</code> and <code>unsigned int</code> are not members of that set and on those platforms it is imperative that both <code>PlatformIntType</code> and <code>PlatformUIntType</code> be set to some fixed size type instead.</p>
<h2><a class="anchor" id="autotoc_md198"></a>
Configurable Integer Types</h2>
<p>Project may configure the framework types that the framework and components use for implementation through <code><a class="el" href="_fp_config_8h.html" title="C-compatible configuration header for fprime configuration.">FpConfig.h</a></code>. The default configuration as supplied with F´ uses the above platform types where applicable.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Framework Type   </th><th class="markdownTableHeadNone">Logical Usage   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Format Specifier   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwIndexType   </td><td class="markdownTableBodyNone">Port indices   </td><td class="markdownTableBodyNone">PlatformIndexType   </td><td class="markdownTableBodyNone">PRI_FwIndexType   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FwSizeType   </td><td class="markdownTableBodyNone">Sizes   </td><td class="markdownTableBodyNone">PlatformSizeType   </td><td class="markdownTableBodyNone">PRI_FwSizeType   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwAssertArgType   </td><td class="markdownTableBodyNone">Arguments to asserts   </td><td class="markdownTableBodyNone">PlatformAssertArgType   </td><td class="markdownTableBodyNone">PRI_FwAssertArgType   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<p>There is also a set of framework types that are used across F´ deployments and specifically interact with ground data systems. These GDS types have defaults based on configurable platform independent fixed-widths as shown below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">GDS Type   </th><th class="markdownTableHeadNone">Logical Usage   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Format Specifier    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwBuffSizeType   </td><td class="markdownTableBodyNone"><code><a class="el" href="class_fw_1_1_buffer.html">Fw::Buffer</a></code> sizes   </td><td class="markdownTableBodyNone">U16   </td><td class="markdownTableBodyNone">PRI_FwBuffSizeType    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FwEnumStoreType   </td><td class="markdownTableBodyNone">Enumeration values   </td><td class="markdownTableBodyNone">I32   </td><td class="markdownTableBodyNone">PRI_FwEnumStoreType    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwTimeBaseStoreType   </td><td class="markdownTableBodyNone">Time base   </td><td class="markdownTableBodyNone">U16   </td><td class="markdownTableBodyNone">PRI_FwTimeBaseStoreType    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FwTimeContextStoreType   </td><td class="markdownTableBodyNone">Time context   </td><td class="markdownTableBodyNone">U8   </td><td class="markdownTableBodyNone">PRI_FwTimeContextStoreType    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwPacketDescriptorType   </td><td class="markdownTableBodyNone">F´ packet descriptor field   </td><td class="markdownTableBodyNone">U32   </td><td class="markdownTableBodyNone">PRI_FwPacketDescriptorType    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FwOpcodeType   </td><td class="markdownTableBodyNone">F´ command opcodes   </td><td class="markdownTableBodyNone">U32   </td><td class="markdownTableBodyNone">PRI_FwOpcodeType    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwChanIdType   </td><td class="markdownTableBodyNone">F´ channel ids   </td><td class="markdownTableBodyNone">U32   </td><td class="markdownTableBodyNone">PRI_FwChanIdType    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FwEventIdType   </td><td class="markdownTableBodyNone">F´ event ids   </td><td class="markdownTableBodyNone">U32   </td><td class="markdownTableBodyNone">PRI_FwEventIdType    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FwPrmIdType   </td><td class="markdownTableBodyNone">F´ parameter ids   </td><td class="markdownTableBodyNone">U32   </td><td class="markdownTableBodyNone">PRI_FwPrmIdType    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FwTlmPacketizeIdType   </td><td class="markdownTableBodyNone">F´ telemetry packet ids   </td><td class="markdownTableBodyNone">U16   </td><td class="markdownTableBodyNone">PRI_FwTlmPacketizeIdType   </td></tr>
</table>
<p>!!! note the F´ GDS expects the above types to use their default setting. Users intending to use the F´ GDS should not stray from the above definitions.</p>
<p>All defaults can be overridden via project specific configuration supplying a custom <code><a class="el" href="_fp_config_8h.html" title="C-compatible configuration header for fprime configuration.">FpConfig.h</a></code>. A complete definition of a framework/GDS type in <code><a class="el" href="_fp_config_8h.html" title="C-compatible configuration header for fprime configuration.">FpConfig.h</a></code> would look like:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basic_types_8hpp.html">BasicTypes.hpp</a>&gt;</span></div>
<div class="line">...</div>
<div class="line">typedef <a class="code hl_typedef" href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> <a class="code hl_typedef" href="_fp_config_8h.html#a924ef0ded73e6ec8a0a0b55e9e555fc4">FwSizeType</a>;</div>
<div class="line"><span class="preprocessor">#define PRI_FwSizeType PRIu32</span></div>
<div class="line">...</div>
<div class="ttc" id="a_basic_types_8hpp_html"><div class="ttname"><a href="_basic_types_8hpp.html">BasicTypes.hpp</a></div><div class="ttdoc">C++ header for working with basic fprime types.</div></div>
<div class="ttc" id="a_fp_config_8h_html_a924ef0ded73e6ec8a0a0b55e9e555fc4"><div class="ttname"><a href="_fp_config_8h.html#a924ef0ded73e6ec8a0a0b55e9e555fc4">FwSizeType</a></div><div class="ttdeci">PlatformSizeType FwSizeType</div><div class="ttdef"><b>Definition</b> <a href="_fp_config_8h_source.html#l00030">FpConfig.h:30</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
