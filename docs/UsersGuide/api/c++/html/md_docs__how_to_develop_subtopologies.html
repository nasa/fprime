<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: How-To: Develop an F&#39; Subtopology</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">F´ Flight Software - C/C++ Documentation
   &#160;<span id="projectnumber">devel</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs__how_to_develop_subtopologies.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How-To: Develop an F' Subtopology </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Subtopologies are topologies for smaller chunks of behavior in F Prime. It allows for grouping bits of topology architecture that fit together, to then be imported into a base deployment's topology. The use case for this is seen when working with shareable components, specifically in the form of <a class="el" href="md_docs__how_to_develop_fprime_libraries.html">libraries</a>.</p>
<p>There are two ways that subtopologies can be created in F Prime. The first (native) way to do so is by hand-writing subtopologies. This method is less complex, but more tedious and restrictive on the capabilities of subtopologies. <b>This document covers hand-written subtopologies</b>.</p>
<p>The second method of creating subtopologies is through the <a href="https://github.com/fprime-community/fprime-subtopology-tool">Subtopology Autocoder</a> (also described in <a href="#the-subtopology-autocoder">a later section of this document</a>). This method is more complex, however expands upon the feature set and capabilities of subtopologies. A document that details the process for creating a subtopology with it is available <a href="https://github.com/fprime-community/fprime-subtopology-tool/blob/main/docs/Example.md">at the repo for the tool</a>.</p>
<p><em>Contents</em></p><ol type="1">
<li><a href="#subtopology-structure">Subtopology Structure</a></li>
<li><a href="#individual-file-contents">Individual File Contents</a><ol type="a">
<li><a href="#example-scenario">Example Scenario</a></li>
</ol>
</li>
<li><a href="#integration-into-a-main-deployment">Integration into a "Main" Deployment</a></li>
<li><a href="#the-subtopology-autocoder">Subtopology Autocoder</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h1><a class="anchor" id="autotoc_md369"></a>
Subtopology Structure</h1>
<p>A subtopology is a folder that contains a <code>topology.cpp</code> file, which includes a <code>topology.fpp</code> file, which is a <em>unified</em> topology file including your wiring, component instances, and init specifications. As opposed to having separate files for component instances and the topology itself, the single file encapsulates both. A <code>topologydefs.hpp</code> defines a struct that is used when instantiating your subtopology. A <code>CMakeLists.txt</code> file links your <code>topology.cpp</code> file to the build for your project.</p>
<p>Thus, the required structure for your subtopology should be:</p>
<div class="fragment"><div class="line">MySubtopology/</div>
<div class="line">├─ CMakeLists.txt</div>
<div class="line">├─ intentionally-empty.cpp</div>
<div class="line">├─ MySubtopology.cmake</div>
<div class="line">├─ MySubtopology.fpp</div>
<div class="line">└─ MySubtopologyTopologyDefs.hpp</div>
</div><!-- fragment --><p>All files will be discussed in more detail in later sections of this guide. Additionally, note that there are optional files that can be included in your subtopology to extend its capability.</p>
<ul>
<li>It is highly recommended to include a <code>docs</code> folder to document your subtopology. Simple markdown files (<code>sdd</code> for subtopology design document) work well in this case.</li>
<li>Other <code>.fpp</code> files can also be included in your subtopology. For example, a <code>config.fpp</code> may prove to be quite useful.</li>
<li>Unit tests can also be added to your subtopology, using a similar structure to unit tests for components.</li>
<li>Subtopology configuration behavior for components are written with <a href="https://nasa.github.io/fpp/fpp-users-guide.html#Defining-Component-Instances_Init-Specifiers_Execution-Phases">phases</a>.</li>
<li><code>intentionally-empty.cpp</code> is a necessary file to include. It will be discussed why this is included <a href="#cmake-and-buildstep-files">later</a>.</li>
</ul>
<blockquote class="doxtable">
<p>Note that with the latest release of <code>fprime-tools</code>, you can run <code>fprime-util new --subtopology</code> to generate the subtopology structure. </p>
</blockquote>
<blockquote class="doxtable">
<p>[!NOTE] Remember, this document covers hand-written subtopologies. See <a href="#the-subtopology-autocoder">a later section</a> for information about the Subtopology Autocoder tool, the other way of creating subtopologies. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md370"></a>
Individual File Contents</h1>
<p>This section will provide an overview to the contents of the individual files that make up a subtopology. We will use the names of the required files structure as shown in the <a href="#subtopology-structure">above</a> section. However, note that the file names shown are not required to be duplicated within your own custom subtopologies.</p>
<h2><a class="anchor" id="autotoc_md371"></a>
Example Scenario</h2>
<p>For this section, it would be helpful to come up with an example scenario where the subtopology is used, such that it can be better understood. Let's imagine that we would like to create a component called <code>RNG</code> that will write a random integer to some telemetry channel when it is hooked up to a 1Hz clock (rate group). The <code>RNG</code> component will have an input port called <code>run</code>, that will be the entry point from the clock (rate group). The <code>RNG</code> component will be an active component, and is under the <code>MyLibrary</code> namespace.</p>
<h2><a class="anchor" id="autotoc_md372"></a>
MySubtopology.fpp</h2>
<p>As mentioned, this is a unified <code>.fpp</code> file. It not only includes the instances instance declarations for components that you'd like your subtopology to use, but also the definitions for the instances.</p>
<p>Based on our example, we may have the following instance declarations:</p>
<div class="fragment"><div class="line">instance rng // RNG component instance</div>
<div class="line">instance rateGroup // rate group instance</div>
</div><!-- fragment --><p>and thus the following instance definitions:</p>
<div class="fragment"><div class="line">instance rng: MyLibrary.RNG base id 0xFF2FF \</div>
<div class="line">    queue size Defaults.QUEUE_SIZE \</div>
<div class="line">    stack size Defaults.STACK_SIZE \</div>
<div class="line">    priority 100</div>
<div class="line"> </div>
<div class="line">instance rateGroup: Svc.ActiveRateGroup base id 0xFF4FF \</div>
<div class="line">    queue size Defaults.QUEUE_SIZE \</div>
<div class="line">    stack size DEFAULTS.STACK_SIZE \</div>
<div class="line">    priority 150</div>
</div><!-- fragment --><p>and also the following wiring:</p>
<div class="fragment"><div class="line">connections MyWiring {</div>
<div class="line">    // we will hook up the cycle for our rate group later on</div>
<div class="line">    rateGroup.RateGroupMemberOut[0] -&gt; rng.run</div>
<div class="line">}</div>
</div><!-- fragment --><p>Thus, your unified fpp file, and so <code>MySubtopology.fpp</code> could look like:</p>
<div class="fragment"><div class="line">module MySubtopology {</div>
<div class="line">    instance rng: MyLibrary.RNG base id 0xFF2FF \</div>
<div class="line">        queue size Defaults.QUEUE_SIZE \</div>
<div class="line">        stack size Defaults.STACK_SIZE \</div>
<div class="line">        priority 100</div>
<div class="line"> </div>
<div class="line">    instance rateGroup: Svc.ActiveRateGroup base id 0xFF4FF \</div>
<div class="line">        queue size Defaults.QUEUE_SIZE \</div>
<div class="line">        stack size DEFAULTS.STACK_SIZE \</div>
<div class="line">        priority 150</div>
<div class="line"> </div>
<div class="line">    topology MySubtopology {</div>
<div class="line">        instance rng // RNG component instance</div>
<div class="line">        instance rateGroup // rate group instance</div>
<div class="line"> </div>
<div class="line">        connections MyWiring {</div>
<div class="line">            rateGroup.RateGroupMemberOut[0] -&gt; rng.run</div>
<div class="line">        }</div>
<div class="line">    } // end topology</div>
<div class="line">} // end MySubtopology</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md373"></a>
Unified fpp with Phases</h1>
<p>"Phases" are a way to be able to write C++ based configuration functions on a component instance-basis. They aim to replace a topology.cpp/hpp pair of files with the single, unified fpp file. For subtopologies, we enforce the usage of phases to maintain consistency and simplicity in the subtopology.</p>
<p>In a standard cpp/hpp configuration model, your topology would be initialized using the following three functions:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>MySubtopology{</div>
<div class="line">    <span class="keywordtype">void</span> configureTopology(<span class="keyword">const</span> TopologyState&amp; state) {</div>
<div class="line">        <span class="comment">// ... your code here ...</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> startTopology(<span class="keyword">const</span> TopologyState&amp; state) {</div>
<div class="line">        <span class="comment">// ... your code here ...</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> teardownTopology(<span class="keyword">const</span> TopologyState&amp; state) {</div>
<div class="line">        <span class="comment">// ... your code here ...</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>In the phase pattern, these three (as well as others, described in detail <a href="https://nasa.github.io/fpp/fpp-users-guide.html#Defining-Component-Instances_Init-Specifiers">here</a>) are tied as "init specifiers" to fpp component instances. So, instead of configuring all components in one place, each instance defines its own init specification.</p>
<p>This looks like the following example, and can be done inline within your unified fpp file:</p>
<div class="fragment"><div class="line">passive component C1</div>
<div class="line"> </div>
<div class="line">instance c1: C1 base id 0x4444 \</div>
<div class="line">{</div>
<div class="line">    phase Fpp.ToCpp.Phases.configComponents &quot;&quot;&quot;</div>
<div class="line">        // your cpp code here for configuring</div>
<div class="line">    &quot;&quot;&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>As aforementioned, we enforce the utilization of phases for subtopologies. Notably, not shown here is that phases can still take in the <code>TopologyState state</code> variable. <code>TopologyState</code> is that struct, which can include any variables you would like a developer to be able to modify. This provides dynamic-ness to your subtopology.</p>
<p>We're now going to interject information about <code>MySubtopologyTopologyDefs.hpp</code>, because it is more relevant to the current topic.</p>
<h1><a class="anchor" id="autotoc_md374"></a>
MySubtopologyTopologyDefs.hpp</h1>
<p>In our example, we may want to allow the user to customize the initial seed for our random number generator:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>TopologyState {</div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">    U32 initialSeed;</div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>This struct definition is included within <code>MySubtopologyDefs.hpp</code>. In addition to this, we may notice that we need to include global definitions in our <code>Defs.hpp</code> file; however depending on your subtopology, you may find this part optional. An example of how these definitions may be written is here:</p>
<div class="fragment"><div class="line"><span class="comment">// Example; may not be required</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>GlobalDefs {</div>
<div class="line">    <span class="keyword">namespace </span>PingEntries {</div>
<div class="line">        MySubtopology_rateGroup {</div>
<div class="line">            <span class="keyword">enum</span> { WARN = 3, ERROR = 5 };</div>
<div class="line">        }</div>
<div class="line">    } <span class="comment">// end PingEntries</span></div>
<div class="line">} <span class="comment">// GlobalDefs</span></div>
</div><!-- fragment --><p>Notice that we wrap <code>PingEntries</code> in a namespace called <code>GlobalDefs</code>. This is important, as it allows us to use the namespace <code>GlobalDefs</code> across multiple topologies, and then link them all together in the main deployment. This will become more clear in the <a href="#integration-into-a-main-deployment">next section</a>.</p>
<p>This brings us to a unique naming scheme for variable names for subtopologies. On the development-end of the subtopology, we see names like <code>configureTopology</code>. However, on the build end when these subtopologies are folded into a bigger project, these functions are added to namespaces via their names. Inherently this makes sense, so that we don't confuse a function, or especially a component instance, with each other. So:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">fpp   </th><th class="markdownTableHeadNone">cpp syntax    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MySubtopology.rateGroup   </td><td class="markdownTableBodyNone">MySubtopology_rateGroup   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md375"></a>
CMake and buildstep files</h1>
<p>The last step is to include our CMake-specific files. This includes <code>CMakeLists.txt</code>. There is a very repeatable structure, and inherently just notifies the compiler that our topology exists when we build a deployment.</p>
<p>In <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line">set(SOURCE_FILES</div>
<div class="line">    &quot;${CMAKE_CURRENT_LIST_DIR}/RNGTopology.fpp&quot;</div>
<div class="line">    &quot;${CMAKE_CURRENT_LIST_DIR}/intentionally-empty.cpp&quot;</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">register_fprime_module()</div>
<div class="line"> </div>
<div class="line">set_target_properties(</div>
<div class="line">    ${FPRIME_CURRENT_MODULE}</div>
<div class="line">    PROPERTIES</div>
<div class="line">    SOURCES &quot;${CMAKE_CURRENT_LIST_DIR}/intentionally-empty.cpp&quot;</div>
<div class="line">)</div>
</div><!-- fragment --><p>As you can see, we have reached the point where we need to use <code>intentionally-empty.cpp</code>. Remember the syntax renaming from earlier, where <code>MySubtopology -&gt; rateGroup</code> becomes <code>MySubtopology_rateGroup...</code>? Well, if we run <code>fprime-util build</code>, the <em>main</em> deployment that uses our subtopology as well as our subtopology will build and create that syntax. In this case, we get a namespace error, where we try to use <code>MySubtopology_rateGroup</code> in a place where it's "not defined". The empty file tells CMake that when our subtopology is built, return the empty file, so there is only a single place where the syntax is defined.</p>
<h1><a class="anchor" id="autotoc_md376"></a>
Integration into a "Main" Deployment</h1>
<p>At this point, we're ready to integrate our subtopology into the topology of our main deployment (you can think of this being our deliverable, with <code>MySubtopology</code> being a portion of it). We will assume, given our example, that you have the RNG component developed alongside the topology. Additionally, we assume that you have created an F Prime project and an associated deployment for it. Let's call this deployment "MainDeployment", and the project "MainProject".</p>
<p>First step is to ensure that our subtopology is linked to our project; within <code>project.cmake</code> add:</p>
<div class="fragment"><div class="line"># before the line adding your main topology</div>
<div class="line">add_fprime_subdirectory(&quot;${CMAKE_CURRENT_LIST_DIR}/MySubtopology/&quot;)</div>
</div><!-- fragment --><p>Then, let's <code>cd</code> into <code>MainDeployment/Top/</code>. We have some files here we need to configure to use our subtopology. Before anything let's go to <code>CMakeLists.txt</code> to include your own subtopology's CMake file:</p>
<div class="fragment"><div class="line">...</div>
<div class="line">include(&quot;${CMAKE_CURRENT_LIST_DIR}/../../MySubtopology/MySubtopology.cmake&quot;)</div>
<div class="line">register_fprime_module()</div>
<div class="line">...</div>
</div><!-- fragment --><p>Head over to <code>MainDeplomentTopologyDefs.hpp</code>. We want to not only include our subtopology's definitions header, but also modify <code>PingEntires</code> to use <code>GlobalDefs::PingEntries</code>. At the end of <code>namespace MainDeployment</code>, include:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>PingEntries = GlobalDefs::PingEntries;</div>
</div><!-- fragment --><p>Then modify the current <code>PingEntries</code> namespace call to be surrounded by GlobalDefs:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>GlobalDefs {</div>
<div class="line">    <span class="keyword">namespace </span>PingEntries {</div>
<div class="line">        <span class="keyword">namespace </span>blockDrv {</div>
<div class="line">            <span class="keyword">enum</span> { WARN = 3, FATAL = 5 };</div>
<div class="line">        }</div>
<div class="line">...</div>
</div><!-- fragment --><p>Then, we want to tell our MainDeployment's topology to import and use our unified topology file from our subtopology. While we're here, we should also hook up the <code>CycleOut</code> port of our main deployment's rate group driver to the <code>CycleIn</code> port of our subtopology's rate group. Ensure that the rate group driver has an appropriate output port array size. We head over to the <code>topology.fpp</code> file, and include:</p>
<div class="fragment"><div class="line">...</div>
<div class="line">topology MainDeployment {</div>
<div class="line">    <span class="keyword">import</span> MySubtopology.MySubtopology</div>
<div class="line">    ...</div>
<div class="line"> </div>
<div class="line">    connections RateGroups{</div>
<div class="line">        ...</div>
<div class="line">        rateGroupDriver.CycleOut[3] -&gt; MySubtopology.rateGroup.CycleIn <span class="comment">// you&#39;ll notice that the syntax here is &lt;Namespace&gt;.&lt;instance&gt;</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">...</div>
</div><!-- fragment --><p>At this point, we want to now call our subtopology's configure/start/teardown functions within the corresponding functions of our <code>MainDeployment</code> topology. So, in <code>MainDeploymentTopology.cpp</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// at the top, include our topology.hpp</span></div>
<div class="line"><span class="preprocessor">#include &lt;MySubtopology/MySubtopologyTopology.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"><span class="comment">// MODIFY this line to include the 4th divider</span></div>
<div class="line">Svc::RateGroupDriver::DividerSet rateGroupDivisorsSet{{{1, 0}, {2, 0}, {4, 0}, {1, 0}}};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> configureTopology() {</div>
<div class="line">    ...</div>
<div class="line">    MySubtopology::TopologyState = myState;</div>
<div class="line">    myState.clockRate = 1; <span class="comment">// we set our clock rate to whatever standard we want</span></div>
<div class="line">    MySubtopology::configureTopology(myState);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">void setupTopology(<span class="keyword">const</span> TopologyState&amp; state){</div>
<div class="line">    ...</div>
<div class="line">    MySubtopology::startTopology({});</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">void teardownTopology(<span class="keyword">const</span> TopologyState&amp; state){</div>
<div class="line">    ...</div>
<div class="line">    MySubtopology::teardownTopology({})</div>
<div class="line">}</div>
</div><!-- fragment --><p>Lastly, since our RNG component has some telemetry, we need to include (or ignore) these channels within the <code>Packets.xml</code> file in this folder. As with any other component that is added to a deployment, you use the same syntax with the name of the instance followed by the name of the telemetry channel. For example:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">channel</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;rng.RNGValue&quot;</span>/&gt; <span class="comment">&lt;!-- based on our instance name --&gt;</span></div>
</div><!-- fragment --><p>Now go ahead and run and build your deployment, and you should see that you have a built deployment that uses a subtopology.</p>
<h1><a class="anchor" id="autotoc_md377"></a>
The Subtopology Autocoder</h1>
<p>As you may notice, the current implementation of subtopologies lacks in a few areas of simplicity and especially reusability. A couple of these issues are tabulated here:</p>
<ol type="1">
<li>It may be the case that I would like to have multiple uses of a subtopology <code>st</code> within a main topology <code>main</code>. For example, <code>st</code> could define the topology for managing a single temperature sensor, but I would like to implement $n$ number of those sensors. At the moment, to do this one would need to duplicate the entire subtopology and make proper modifications to instances, the TopologyDefs file, and more.</li>
<li>Let's maintain our example of <code>st</code> being the topology for managing a single temperature sensor. It may be the case that <code>st</code> only implements the software behavior, as is reasonable: the developer of the subtopology probably cannot write hardware interface drivers for every platform possible. So, the user would provide the proper driver to <code>st</code>, which is again reasonable. However, to accomplish this one would need to modify the contents of a subtopology, changing instance definitions and possibly the connection graphs as well. Such a task could become monstrous if, say <code>st</code> now implements the <a href="https://nasa.github.io/fprime/UsersGuide/best/hub-pattern.html">hub pattern</a>.</li>
</ol>
<p>Thus, an autocoder <a href="https://github.com/fprime-community/fprime-subtopology-tool">tool</a> dubbed the "Subtopology AC Tool" has been developed to be able to provide features like instantiation, local components, and formal subtopology interfaces. The tool itself provides examples of the syntax required to use these features, as well as a design methodology and a worked example with diagrams using a similar context to the one <a href="#example-scenario">in this document</a>.</p>
<p>We recommend that subtopologies are built around the syntax of this tool, as it is on the road map to introduce the patterns in this tool into native FPP syntax.</p>
<h1><a class="anchor" id="autotoc_md378"></a>
Conclusion</h1>
<p>This how-to guide has walked through the development of a subtopology. Deployments can include multiple different subtopologies, and thus this feature truly paves the way for making F Prime more accessible to quick prototyping. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
