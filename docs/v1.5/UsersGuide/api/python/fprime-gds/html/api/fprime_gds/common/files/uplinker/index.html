

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fprime_gds.common.files.uplinker &mdash; fprime-gds 1.4.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../static/css/rtd_width.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../../static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../static/documentation_options.js"></script>
        <script src="../../../../../static/jquery.js"></script>
        <script src="../../../../../static/underscore.js"></script>
        <script src="../../../../../static/doctools.js"></script>
        <script src="../../../../../static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="fprime_gds.common.gds_cli" href="../../gds_cli/index.html" />
    <link rel="prev" title="fprime_gds.common.files.helpers" href="../helpers/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home" alt="Documentation Home"> fprime-gds
          

          
          </a>

          
            
            
              <div class="version">
                1.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../fastentrypoints/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastentrypoints</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../../index.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.common</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../executables/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.executables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../flask/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.flask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../wxgui/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.wxgui</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../index.html#package-contents">Package Contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSLogEventPanelImpl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSLogEventPanelImpl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSStatusPanelGUI/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSStatusPanelGUI</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSCommandPanelGUI/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSCommandPanelGUI</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSLogEventPanelGUI/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSLogEventPanelGUI</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSChannelTelemetryPanelImpl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSChannelTelemetryPanelImpl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSChannelTelemetryPanelGUI/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSChannelTelemetryPanelGUI</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../test/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">test</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSMainFrameImpl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSMainFrameImpl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSChannelFilterDialog/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSChannelFilterDialog</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSCommandPanelImpl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSCommandPanelImpl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSStatusPanelImpl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSStatusPanelImpl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../GDSMainFrameGUI/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GDSMainFrameGUI</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../PexpectRunnerConsol/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PexpectRunnerConsol</span></code></a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">fprime-gds</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">API Reference</a> &raquo;</li>
        
          <li><a href="../../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds</span></code></a> &raquo;</li>
        
          <li><a href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.common</span></code></a> &raquo;</li>
        
          <li><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.common.files</span></code></a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.common.files.uplinker</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../sources/api/fprime_gds/common/files/uplinker/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-fprime_gds.common.files.uplinker">
<span id="fprime-gds-common-files-uplinker"></span><h1><a class="reference internal" href="#module-fprime_gds.common.files.uplinker" title="fprime_gds.common.files.uplinker"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fprime_gds.common.files.uplinker</span></code></a><a class="headerlink" href="#module-fprime_gds.common.files.uplinker" title="Permalink to this headline">¶</a></h1>
<p><p>uplinker.py:</p>
<p>Contains the code necessary to uplink files through the F prime ground system to a running deployment. The file uplink
process will read in a file from the OS, and uplink it in chunks. The system throttles chunks of the file requiring a
handshake packet in return before the next chunk is sent out.</p>
<p>&#64;author lestarch</p>
</p>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fprime_gds.common.files.uplinker.UplinkQueue" title="fprime_gds.common.files.uplinker.UplinkQueue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UplinkQueue</span></code></a>(uplinker)</p></td>
<td><p>Handles queuing of files to send to the uplinker. This offloads the work of determining when done, and what to do</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fprime_gds.common.files.uplinker.FileUplinker" title="fprime_gds.common.files.uplinker.FileUplinker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FileUplinker</span></code></a>(file_encoder, chunk=CHUNK_SIZE, timeout=20)</p></td>
<td><p>File uplinking component. Keeps track of the currently uplinking file, and registers as a receiver for the handshake</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue">
<em class="property">class </em><code class="sig-prename descclassname">fprime_gds.common.files.uplinker.</code><code class="sig-name descname">UplinkQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uplinker</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles queuing of files to send to the uplinker. This offloads the work of determining when done, and what to do
while waiting. It also owns the thread that starts uplink. This thread watches for the current uplink to finish, and
then it starts the next one and returns to a quiescent state.</p>
<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.enqueue">
<code class="sig-name descname">enqueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">destination</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.enqueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.enqueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Enqueue the file and destination pair onto the queue</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – filepath to upload to the given destination</p></li>
<li><p><strong>destination</strong> – destination path to upload the filepath to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.pause">
<code class="sig-name descname">pause</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Pause the uplinker, setting the running flag off, then holding the busy semaphore</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.unpause">
<code class="sig-name descname">unpause</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.unpause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.unpause" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpause the uplinker, releasing the busy semaphore and then restoring the running flag</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.is_running">
<code class="sig-name descname">is_running</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.is_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the uplink is running</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">source</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a file by its source from the queue and the permanent uplink list. This will touch each record in the
queue one time, as they are pulled off the queue, inspected, and the replaced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> – source file to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.run" title="Permalink to this definition">¶</a></dt>
<dd><p>A thread that will uplink files on after another until all files that have been enqueued are properly processed.
To stop this thread, set the exit event.</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.current">
<code class="sig-name descname">current</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.current"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.current" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a set of current files. This will create a copy, to prevent messing with uplink.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>copy of current files transformed into a JSONable dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.exit">
<code class="sig-name descname">exit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit event to shutdown the thread</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.UplinkQueue.join">
<code class="sig-name descname">join</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#UplinkQueue.join"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.UplinkQueue.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Join with this uplinker</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="fprime_gds.common.files.uplinker.FileUplinker">
<em class="property">class </em><code class="sig-prename descclassname">fprime_gds.common.files.uplinker.</code><code class="sig-name descname">FileUplinker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_encoder</span></em>, <em class="sig-param"><span class="n">chunk</span><span class="o">=</span><span class="default_value">CHUNK_SIZE</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../handlers/index.html#fprime_gds.common.handlers.DataHandler" title="fprime_gds.common.handlers.DataHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">fprime_gds.common.handlers.DataHandler</span></code></a></p>
<p>File uplinking component. Keeps track of the currently uplinking file, and registers as a receiver for the handshake
packets that are send back on each packet.</p>
<dl class="py attribute">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.CHUNK_SIZE">
<code class="sig-name descname">CHUNK_SIZE</code><em class="property"> = 256</em><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.CHUNK_SIZE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.CHUNK_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.enqueue">
<code class="sig-name descname">enqueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">destination</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.enqueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.enqueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Enqueue files for the upload. This tunnels into the upload queue, which unblocks once files have been enqueued
and begins to upload each file sequentially.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – filepath to upload to the system</p></li>
<li><p><strong>destination</strong> – (optional) destination to uplink to. Default: current destination + file’s basename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.exit">
<code class="sig-name descname">exit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit this uplinker by killing the thread</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.is_running">
<code class="sig-name descname">is_running</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.is_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the queue is running</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.pause">
<code class="sig-name descname">pause</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Pause uplink by canceling the uplink, and then pausing the uplink queue</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.unpause">
<code class="sig-name descname">unpause</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.unpause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.unpause" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpauses the uplink by unpausing the internal queue</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.cancel_remove">
<code class="sig-name descname">cancel_remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.cancel_remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.cancel_remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel/remove the uplink of the given file.  If uplinking, it will cancel the uplink, and if queued it will
remove the file from the queue.  Unknown files will be ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> – file to remove from the uplinker</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.current_files">
<code class="sig-name descname">current_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.current_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.current_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current set of files held by the uplink queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current files as a list in JSONable format</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">file_obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a file uplink to a running F prime deployment. This will open of the file, save the file handle, and emit
the start file uplink packet. It will also store the state for the file uplink progress. If already uplinking
then a FileUplinkerBusyException will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_obj</strong> – file object to upload</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#fprime_gds.common.files.uplinker.FileUplinkerBusyException" title="fprime_gds.common.files.uplinker.FileUplinkerBusyException"><strong>FileUplinkerBusyException</strong></a> – when an upload is already running</p></li>
<li><p><strong>OSError</strong> – when file is inaccessible</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.send">
<code class="sig-name descname">send</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">packet_data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.send" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to send the packet out.  Starts timeout and then pushes the packet to the file encoder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packet_data</strong> – packet data to send that will be pushed to the encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.data_callback">
<code class="sig-name descname">data_callback</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">sender</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.data_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.data_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Process incoming handshake data, and if it is the expected handshake, then it uplinks the next packet. In the
file. Invalid handshakes are ignore. When finished a returning handshake puts the uplinker into idle state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – data from handshake packet to be verified against that previously sent</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.cancel">
<code class="sig-name descname">cancel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.cancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels the currently active file uplink. Will emit a cancel packet to inform the deployment that the file is
canceled. This merely sets the state to “canceled” and will handle this later. This implies that in the case of
a timeout, cancels may be ignored.</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.timeout">
<code class="sig-name descname">timeout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles timeout o file packet by finishing the upload immediately, and setting the state to timeout</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.finish">
<code class="sig-name descname">finish</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">wait_for_handshake</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes the current file uplink by closing the file, and starting the end processs. If the uplinker should
immediately terminate (like during a timeout) then set wait_for_handshake to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wait_for_handshake</strong> – (optional) wrap up cleanly by waiting for handshake. Default: True, clean wait</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.get_next_sequence">
<code class="sig-name descname">get_next_sequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.get_next_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.get_next_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the next sequence number</p>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.valid_handshake">
<code class="sig-name descname">valid_handshake</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.valid_handshake"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.valid_handshake" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the handshake data and ensure that it is as expected. This will allow us to only handle handshakes that
we expected. This will ensure that the handshake data is an exact match of the send data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – data to check against what was transmitted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if proper handshake, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="fprime_gds.common.files.uplinker.FileUplinker.destination_dir">
<em class="property">property </em><code class="sig-name descname">destination_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinker.destination_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinker.destination_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the destination directory that files will be uplinked to, if not currently specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>value of destination</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="fprime_gds.common.files.uplinker.FileUplinkerBusyException">
<em class="property">exception </em><code class="sig-prename descclassname">fprime_gds.common.files.uplinker.</code><code class="sig-name descname">FileUplinkerBusyException</code><a class="reference internal" href="../../../../../modules/fprime_gds/common/files/uplinker.html#FileUplinkerBusyException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fprime_gds.common.files.uplinker.FileUplinkerBusyException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>File uplinker is busy and cannot uplink more files</p>
</dd></dl>

<p>Build: 1.4.1</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../gds_cli/index.html" class="btn btn-neutral float-right" title="fprime_gds.common.gds_cli" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../helpers/index.html" class="btn btn-neutral float-left" title="fprime_gds.common.files.helpers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Michael Starch

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
